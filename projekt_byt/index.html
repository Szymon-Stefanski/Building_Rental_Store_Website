<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sklep Budowlany</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <!-- Główny kontener strony -->
    <div class="container">

        <!-- Header Section -->
        <header class="header">
            <div class="top-bar">
                <div class="top-links">
                    <a href="#">Koszty dostawy</a>
                    <a href="#">Reklamacje i zwroty</a>
                    <a href="#">Kontakt</a>
                </div>
                <div class="language-currency">
                    <span>Wybierz język</span>
                    <img src="down-arrow.png" alt="Strzałka w dół" class="arrow-icon">

                    <span>PLN</span>
                    <img src="down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                </div>
            </div>
            
            <div class="header-container">
                <div class="logo">
                    <img src="budex.png" alt="Logo sklepu" />
                </div>
                <div class="search-bar">
                    <input type="text" placeholder="Wpisz nazwę lub kod produktu..." id="search-input" />
                    <button id="search-button">
                        <img src="magnifying-glass.png" alt="Szukaj" class="search-icon">
                        Szukaj
                    </button>
                </div>
                <div class="cart-info">
                    <span style="font-weight: bold;">Twój koszyk: <span id="cart-total">0 zł</span></span>
                    <a href="cart.html"> <!-- Link do strony koszyka -->
                        <div class="cart-icon">
                            <img src="pngegg.png" alt="Koszyk">
                            <span id="cart-count">0</span> <!-- Liczba produktów w koszyku -->
                        </div>
                    </a>
                </div>
            </div>

            <nav class="main-navigation">
                <button class="category-dropdown">
                    <img src="menu.png" alt="Kategoria" class="button-icon"> KATEGORIE
                    <img src="down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                </button>
                <div class="nav-links">
                    <a href="#">
                        <img src="brickwall.png" class="category-icon"> BUDOWA
                        <img src="down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                    </a>
                    <a href="#">
                        <img src="furnace.png" class="category-icon"> INSTALACJE
                        <img src="down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                    </a>
                    <a href="#">
                        <img src="rent.png" class="category-icon"> WYPOŻYCZALNIA SPRZĘTU
                        <img src="down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                    </a>
                   
                    <a href="#">
                        <img src="discount.png" class="category-icon"> PROMOCJE
                        <img src="down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                    </a>
                </div>
            </nav>

        </header>
        <div id="no-results-message" class="no-results-message" style="display: none;">
                Przepraszamy, jeszcze nie mamy tego produktu.
            </div>


        <!-- Main Content -->
        <main class="main-content">

            <!-- Kategoria 1 -->
             <section class="products">
                 
                <div class="category-container">
                    <h2>Sucha zabudowa</h2>
                    
                    <div class="product-grid">
                        <!-- Produkt 1 -->
                        <div class="product-card" data-product-id="1" data-price="28.90">
                            <a href="produkt.html">
                                <div class="favorite-icon">
                                    <img src="love-always-wins.png" alt="Ulubione">
                                </div>
                                <img src="profilglowny.png" alt="Profil główny">
                                <h3>Profil główny do sufitów podwieszanych RIGIPS T24 QUICK-LOCK 3600 mm</h3>
                                <p class="product-price">28,90 zł/szt.</p>
                            </a>
                            <!-- Kontrolka ilości i przycisk do koszyka obok siebie -->
                            <div class="quantity-cart-container">
                                <div class="quantity-control">
                                    <button class="decrease-quantity" onclick="changeQuantity(this, -1)">-</button>
                                    <input type="text" value="1" min="1" class="quantity" onchange="updateCart()">
                                    <button class="increase-quantity" onclick="changeQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart" onclick="addToCart(this)">
                                    <img src="pngegg.png" style="filter: invert(1) brightness(1000%);" alt="Dodaj do koszyka"> DO KOSZYKA
                                </button>
                            </div>
                        </div>
                        <!-- Produkt 2 -->
                        <div class="product-card" data-product-id="2" data-price="34.20">
                            <a href="produkt2.html">
                                <div class="favorite-icon">
                                    <img src="love-always-wins.png" alt="Ulubione">
                                </div>
                                <img src="Profil_przy%C5%9Bcienny_k%C4%85towy.png" alt="Profil sufitowy">
                                <h3>Profil przyścienny kątowy QUICK-LOCK 3 m 19x24 mm Rigips </h3>
                                
                                <p class="product-price">20,99 zł/szt.</p>
                            </a>
                            <!-- Kontrolka ilości i przycisk do koszyka obok siebie -->
                            <div class="quantity-cart-container">
                                <div class="quantity-control">
                                    <button class="decrease-quantity" onclick="changeQuantity(this, -1)">-</button>
                                    <input type="text" value="1" min="1" class="quantity" onchange="updateCart()">
                                    <button class="increase-quantity" onclick="changeQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart" onclick="addToCart(this)">
                                    <img src="pngegg.png" style="filter: invert(1) brightness(1000%);" alt="Dodaj do koszyka"> DO KOSZYKA
                                </button>
                            </div>
                        </div>
                        
                        <div class="product-card">
                            <a href="product1.html">
                                <div class="favorite-icon">
                                    <img src="love-always-wins.png" alt="Ulubione">
                                </div>
                                <img src="Panel_sufitowy.jpg" alt="Panel sufitowy">
                                <h3>Panel sufitowy CASOPRANO CASOSTAR Rigips 600x600x8 mm (igłowana perforacja)</h3>
                                <p class="product-price">42,10 zł/szt.</p>
                            </a>
                            <!-- Kontrolka ilości i przycisk do koszyka obok siebie -->
                            <div class="quantity-cart-container">
                                <div class="quantity-control">
                                    <button class="decrease-quantity" onclick="changeQuantity(this, -1)">-</button>
                                    <input type="text" value="1" min="1" class="quantity" onchange="updateCart()">
                                    <button class="increase-quantity" onclick="changeQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart">
                                    <img src="pngegg.png" style="filter: invert(1) brightness(1000%);" alt="Dodaj do koszyka"> DO KOSZYKA
                                </button>
                            </div>
                        </div>
                        
                        <div class="product-card">
                            <a href="product1.html">
                                <div class="favorite-icon">
                                    <img src="love-always-wins.png" alt="Ulubione">
                                </div>
                                <img src="Panel_sufitowy.jpg" alt="Panel sufitowy">
                                <h3>Panel sufitowy CASOPRANO CASOSTAR Rigips 600x600x8 mm (igłowana perforacja)</h3>
                                <p class="product-price">42,10 zł/szt.</p>
                            </a>
                            <!-- Kontrolka ilości i przycisk do koszyka obok siebie -->
                            <div class="quantity-cart-container">
                                <div class="quantity-control">
                                    <button class="decrease-quantity" onclick="changeQuantity(this, -1)">-</button>
                                    <input type="text" value="1" min="1" class="quantity" onchange="updateCart()">
                                    <button class="increase-quantity" onclick="changeQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart">
                                    <img src="pngegg.png" style="filter: invert(1) brightness(1000%);" alt="Dodaj do koszyka"> DO KOSZYKA
                                </button>
                            </div>
                        </div>
                        
                        
                    </div>
                </div>
            </section>

            <!-- Kategoria 2 -->
            <section class="products">
                <div class="category-container">
                    <h2>Płyty gipsowo-kartonowe</h2>
                    <div class="product-grid">
                        <div class="product-card">
                            <a href="product1.html">
                                <div class="favorite-icon">
                                    <img src="love-always-wins.png" alt="Ulubione">
                                </div>
                                <img src="glasroc.jpg" alt="Płyta sufitowa">
                                <h3>Glasroc Ocean płyta 12.5 120x200</h3>
                                <p class="product-price">46,77 zł/szt.</p>
                            </a>
                            <!-- Kontrolka ilości i przycisk do koszyka obok siebie -->
                            <div class="quantity-cart-container">
                                <div class="quantity-control">
                                    <button class="decrease-quantity" onclick="changeQuantity(this, -1)">-</button>
                                    <input type="text" value="1" min="1" class="quantity" onchange="updateCart()">
                                    <button class="increase-quantity" onclick="changeQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart">
                                    <img src="pngegg.png" style="filter: invert(1) brightness(1000%);" alt="Dodaj do koszyka"> DO KOSZYKA
                                </button>
                            </div>
                        </div>
                        
                        <!-- następny -->
                        
                    </div>
                </div>
            </section>
            
            <section class="products">
                <div class="category-container">
                    <h2>Płyty gipsowo-kartonowe</h2>
                    <div class="product-grid">
                        <div class="product-card">
                            <a href="product1.html">
                                <div class="favorite-icon">
                                    <img src="love-always-wins.png" alt="Ulubione">
                                </div>
                                <img src="glasroc.jpg" alt="Płyta sufitowa">
                                <h3>Glasroc Ocean płyta 12.5 120x200</h3>
                                <p class="product-price">46,77 zł/szt.</p>
                            </a>
                            <!-- Kontrolka ilości i przycisk do koszyka obok siebie -->
                            <div class="quantity-cart-container">
                                <div class="quantity-control">
                                    <button class="decrease-quantity" onclick="changeQuantity(this, -1)">-</button>
                                    <input type="text" value="1" min="1" class="quantity" onchange="updateCart()">
                                    <button class="increase-quantity" onclick="changeQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart">
                                    <img src="pngegg.png" style="filter: invert(1) brightness(1000%);" alt="Dodaj do koszyka"> DO KOSZYKA
                                </button>
                            </div>
                        </div>
                        <!-- Kolejne produkty... -->
                    </div>
                </div>
            </section>
            
            <section class="products">
                <div class="category-container">
                    <h2>Płyty gipsowo-kartonowe</h2>
                    <div class="product-grid">
                        <div class="product-card">
                            <a href="product1.html">
                                <div class="favorite-icon">
                                    <img src="love-always-wins.png" alt="Ulubione">
                                </div>
                                <img src="glasroc.jpg" alt="Płyta sufitowa">
                                <h3>Glasroc Ocean płyta 12.5 120x200</h3>
                                <p class="product-price">46,77 zł/szt.</p>
                            </a>
                            <!-- Kontrolka ilości i przycisk do koszyka obok siebie -->
                            <div class="quantity-cart-container">
                                <div class="quantity-control">
                                    <button class="decrease-quantity" onclick="changeQuantity(this, -1)">-</button>
                                    <input type="text" value="1" min="1" class="quantity" onchange="updateCart()">
                                    <button class="increase-quantity" onclick="changeQuantity(this, 1)">+</button>
                                </div>
                                <button class="add-to-cart">
                                    <img src="pngegg.png" style="filter: invert(1) brightness(1000%);" alt="Dodaj do koszyka"> DO KOSZYKA
                                </button>
                            </div>
                        </div>
                        <!-- Kolejne produkty... -->
                    </div>
                </div>
            </section>
            
            <section class="products">
                <div class="category-container">
                    <h2>Płyty gipsowo-kartonowe</h2>
                    <div class="product-grid">
                        <div class="product-card">
                            <img src="glasroc.jpg" alt="Płyta gipsowo-kartonowa">
                            <h3>Glasroc Ocean płyta 12.5 120x200</h3>
                            <p>44,90 zł/szt.</p>
                        </div>
                        <!-- Kolejne produkty... -->
                    </div>
                </div>
            </section>
            
            
        </main>
    </div>
    <script>
        
        let cart = [];
        
        function addToCart() {
            const quantityInput = event.target.closest('.product-card').querySelector('.quantity');
            const productName = event.target.closest('.product-card').querySelector('h3').innerText;
            const productPriceText = event.target.closest('.product-card').querySelector('.product-price').innerText;

            const productPrice = parseFloat(productPriceText.replace(' zł/szt.', '').replace(',', '.'));

            const quantity = parseInt(quantityInput.value);

            // Szukamy, czy produkt już istnieje w koszyku
            const existingProduct = cart.find(item => item.name === productName);

            if (existingProduct) {
                existingProduct.quantity += quantity; // Dodajemy ilość do istniejącego produktu
            } else {
                cart.push({ name: productName, price: productPrice, quantity }); // Dodajemy nowy produkt do koszyka
            }

            localStorage.setItem('cartItems', JSON.stringify(cart));

            updateCart(); 
        }


        
        
        // Funkcja zmieniająca ilość produktu
        function changeQuantity(button, change) {
            const quantityInput = button.parentElement.querySelector('.quantity');
            let currentValue = parseInt(quantityInput.value);
            currentValue += change;

            if (currentValue < 1) currentValue = 1;
            quantityInput.value = currentValue;

            updateCart(); // Aktualizacja koszyka po zmianie ilości
        }

        function updateCart() {
            const cartCountElement = document.getElementById('cart-count');
            const cartInfoElement = document.querySelector('.cart-info span');
            let totalPrice = 0;
            let totalQuantity = 0;

            // Zliczamy łączną ilość produktów i cenę
            cart.forEach(item => {
                totalQuantity += item.quantity;
                totalPrice += item.price * item.quantity;
            });

            // Aktualizujemy licznik produktów w koszyku
            cartCountElement.textContent = totalQuantity;

            // Aktualizujemy cenę w koszyku
            cartInfoElement.textContent = `Twój koszyk: ${totalPrice.toFixed(2)} zł`;

            // Zapisz zmodyfikowany koszyk w localStorage
            localStorage.setItem('cartItems', JSON.stringify(cart));

            // Ukrywamy lub pokazujemy komunikat o braku produktów
            const noResultsMessage = document.getElementById('no-results-message');
            if (totalQuantity === 0) {
                noResultsMessage.style.display = 'block';
            } else {
                noResultsMessage.style.display = 'none';
            }
        }

        
        
        
       // Funkcja do filtrowania produktów
        function filterProducts() {
            const query = document.getElementById('search-input').value.toLowerCase(); // Pobranie tekstu z inputa i zamiana na małe litery
            const products = document.querySelectorAll('.product-card'); // Pobranie wszystkich kart produktów
            let found = false; 

            // Iteracja po wszystkich produktach
            products.forEach(product => {
                const productName = product.querySelector('h3').textContent.toLowerCase(); 

                // Sprawdzanie, czy nazwa produktu zawiera wyszukiwaną frazę
                if (productName.includes(query)) {
                    product.style.display = ''; 
                    found = true; 
                } else {
                    product.style.display = 'none'; // Jeśli nie pasuje, ukrywamy produkt
                }
            });

            // Jeśli nie znaleziono żadnych pasujących produktów, pokazujemy komunikat
            const noResultsMessage = document.getElementById('no-results-message');
            if (!found && query.trim() !== '') {
                noResultsMessage.style.display = 'block'; 
            } else {
                noResultsMessage.style.display = 'none'; 
            }
        }

        // Dodanie nasłuchiwacza do przycisku "Szukaj"
        document.getElementById('search-button').addEventListener('click', filterProducts);

        // Dodanie nasłuchiwacza do inputa, aby reagować na zmiany tekstu
        document.getElementById('search-input').addEventListener('input', filterProducts);



    </script>
</body>
</html>
