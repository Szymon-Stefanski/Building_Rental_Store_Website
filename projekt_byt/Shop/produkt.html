<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Szczegóły Produktu</title>
    <link rel="stylesheet" href="../Style/style_product.css">
</head>
<body>
    <!-- Nagłówek strony -->
    <header class="header">
        <div class="top-bar">
            <div class="top-links">
                <a href="#">Koszty dostawy</a>
                <a href="#">Reklamacje i zwroty</a>
                <a href="#">Kontakt</a>
            </div>
            <div class="language-currency">
                <span>Wybierz język</span>
                <img src="../Image/Icon/down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                service-worker
                <span>PLN</span>
                <img src="../Image/Icon/down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
            </div>
        </div>

        <div class="header-container">
            <div class="logo">
                <img src="../Image/Icon/budex.png" alt="Logo sklepu" />
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Wpisz nazwę lub kod produktu..." id="search-input" />
                <button id="search-button">
                    <img src="../Image/Icon/magnifying-glass.png" alt="Szukaj" class="search-icon">
                    Szukaj
                </button>
            </div>
            <div class="cart-info">
                <span style="font-weight: bold;">Twój koszyk: <span id="cart-total">0 zł</span></span>
                <a href="cart.html">
                    <div class="cart-icon">
                        <img src="../Image/Icon/pngegg.png" alt="Koszyk">
                        <span id="cart-count">0</span>
                    </div>
                </a>
            </div>
        </div>
    


        <nav class="main-navigation">
            <button class="category-dropdown">
                <img src="../Image/Icon/menu.png" alt="Kategoria" class="button-icon"> KATEGORIE
                <img src="../Image/Icon/down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
            </button>
            <div class="nav-links">
                <a href="#">
                    <img src="../Image/Icon/brickwall.png" class="category-icon"> BUDOWA
                    <img src="../Image/Icon/down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                </a>
                <a href="#">
                    <img src="../Image/Icon/furnace.png" class="category-icon"> INSTALACJE
                    <img src="../Image/Icon/down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                </a>
                <a href="#">
                    <img src="../Image/Icon/rent.png" class="category-icon"> WYPOŻYCZALNIA SPRZĘTU
                    <img src="../Image/Icon/down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                </a>
                <a href="#">
                    <img src="../Image/Icon/discount.png" class="category-icon"> PROMOCJE
                    <img src="../Image/Icon/down-arrow.png" alt="Strzałka w dół" class="arrow-icon">
                </a>
            </div>
        </nav>
    </header>

    <div id="no-results-message" class="no-results-message" style="display: none;">
                Nie ma takiego produktu.
    </div>
    
    <!-- Główna sekcja produktu -->
    <main class="main-content">
        <div class="container">
            
            <div class="back-button-container">
                <a href="../index.html" class="back-button">◄  Powrót do strony głównej</a>
            </div>
            
            <div class="product-container">
                <!-- Sekcja zdjęć produktu -->
                <div class="product-images">
                    <img src="../Image/Product/profilglowny.png" alt="Zdjęcie produktu" class="main-image" id="mainImage">
                    <div class="thumbnail-images">
                        <img src="../Image/Product/profilsufitowy.png" alt="Miniatura 1" class="thumbnail" data-large="profilsufitowy.png">
                        <img src="../Image/Product/profilglowny.png" alt="Miniatura 2" class="thumbnail" data-large="profilglowny.png">
                        <img src="../Image/Product/profilglowny.png" alt="Miniatura 3" class="thumbnail" data-large="profilglowny.png">
                    </div>
                </div>
                
                <div id="imageModal" class="modal">
                    <span class="close">&times;</span>
                    <img class="modal-content" id="enlargedImage">
                    <div class="navigation">
                        <span class="prev">&lt;</span>
                        <span class="next">&gt;</span>
                    </div>
                </div>

                <!-- Szczegóły produktu -->
                <div class="product-details">
                    <h2>Profil główny do sufitów podwieszanych RIGIPS T24 QUICK-LOCK 3600 mm</h2>
                    <p>Nr produktu:</p>
                    <div class="product-price">
                        <span class="current-price">28,90 zł</span>
                        <span class="old-price">34,20 zł</span>
                    </div>
                    <div class="product-availability">
                        <span>Dostępność: <strong>W magazynie</strong></span>
                    </div>
                    <div class="product-actions">
                <div class="quantity-cart-container">
                    <div class="quantity-control">
                        <button class="decrease-quantity" onclick="changeQuantity(this, -1)">-</button>
                        <input type="number" value="1" min="1" class="quantity" onchange="updateCart()">
                        <button class="increase-quantity" onclick="changeQuantity(this, 1)">+</button>
                    </div>
                    <button class="add-to-cart">
                        <img src="../Image/Icon/pngegg.png" style="filter: invert(1) brightness(1000%);" alt="Dodaj do koszyka"> DO KOSZYKA
                    </button>
                </div>
                </div>
                        <div class="product-info">
                            <p style="color: dimgrey; font-family: 'Brush Script MT';">Profil RIGIPS T24 QUICK-LOCK do sufitów podwieszanych Profil główny RIGIPS T24 QUICK-LOCK to solidna baza dla sufitów podwieszanych, łącząca estetykę z funkcjonalnością.</p>
                            <p style="font-weight: bold">Długość: 3,6m</p>
                            <p style="font-weight: bold">Kolor: biały</p>
                            <p style="font-weight: bold">Materiał wykonania: blacha stalowa ocynkowana</p>
                            <p style="font-weight: bold">Szerokość stopki: 24 mm</p>
                        </div>
                    </div>
                </div>

            <!-- Opis produktu poniżej -->
            <div class="product-description">
                <h3>Opis produktu</h3>
                <p style="font-weight: bold; color: coral;">Profil RIGIPS T24 QUICK-LOCK do sufitów podwieszanych</p>
                <p>Profil główny RIGIPS T24 QUICK-LOCK to solidna baza dla sufitów podwieszanych, łącząca estetykę z funkcjonalnością. Precyzyjnie wykonany z materiałów wysokiej jakości, gwarantuje niezawodność na długie lata.</p>
                <h3>Cechy produktu</h3>
                <p style="font-weight: bold; color: gray">► Optymalne wymiary: </p><p>• Długość 3600 mm dostosowana do potrzeb różnorodnych projektów sufitów podwieszanych.</p>
                <p style="font-weight: bold; color: gray">► Wytrzymała konstrukcja: </p><p>• Profil nośny o przekroju T-ownika zapewnia wysoką stabilność całej konstrukcji.</p>
                <p style="font-weight: bold; color: gray">► Niezawodny materiał: </p><p>• Wykonanie z ocynkowanej blachy stalowej zapobiega korozji i zwiększa trwałość.</p>
                <p style="font-weight: bold; color: gray">► System QUICK-LOCK: </p><p>• Ułatwia i przyspiesza montaż, czyniąc go intuicyjnym nawet dla mniej doświadczonych instalatorów.</p>
                <p style="font-weight: bold; color: gray">► Wszechstronne zastosowanie: </p><p>• Idealny do wszelkich sufitów kasetonowych, zarówno w przestrzeniach komercyjnych, jak i prywatnych.</p>
                <p style="font-weight: bold; color: gray">► Bezproblemowe połączenia:  </p><p>• Profil współpracuje z innymi elementami systemu RIGIPS, umożliwiając tworzenie spójnych i trwałych konstrukcji.</p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Budex Sp z.o.o . Wszelkie prawa zastrzeżone.</p>
    </footer>
    <script>
        let cart = [];

    // Funkcja dodająca produkt do koszyka
    function addToCart(event) {
        const quantityInput = event.target.closest('.product-actions').querySelector('.quantity');
        const productName = event.target.closest('.product-details').querySelector('h2').innerText;
        const productPriceText = event.target.closest('.product-details').querySelector('.current-price').innerText;

        const productPrice = parseFloat(productPriceText.replace(' zł', '').replace(',', '.'));
        const quantity = parseInt(quantityInput.value);

        
        const existingProduct = cart.find(item => item.name === productName);

        if (existingProduct) {
            existingProduct.quantity += quantity; 
        } else {
            cart.push({ name: productName, price: productPrice, quantity }); 
        }

        localStorage.setItem('cartItems', JSON.stringify(cart));

        updateCart(); 
    }

    // Funkcja zmieniająca ilość produktu
    function changeQuantity(button, change) {
        const input = button.closest('.quantity-control').querySelector('.quantity');
        let currentValue = parseInt(input.value);
        currentValue += change;

        if (currentValue >= 1) {
            input.value = currentValue;
        }
        updateCart();  
    }

    // Funkcja aktualizująca widok koszyka
    function updateCart() {
        const cartCountElement = document.getElementById('cart-count');
        const cartInfoElement = document.querySelector('.cart-info span');
        let totalPrice = 0;
        let totalQuantity = 0;

        cart = JSON.parse(localStorage.getItem('cartItems')) || [];

        cart.forEach(item => {
            totalQuantity += item.quantity;
            totalPrice += item.price * item.quantity;
        });

        cartCountElement.textContent = totalQuantity;

       
        cartInfoElement.textContent = `Twój koszyk: ${totalPrice.toFixed(2)} zł`;

        
        const noResultsMessage = document.getElementById('no-results-message');
        if (totalQuantity === 0) {
            noResultsMessage.style.display = 'block'; 
        } else {
            noResultsMessage.style.display = 'none'; 
        }
    }



    // Funkcja do filtrowania produktów
    function filterProducts() {
        const query = document.getElementById('search-input').value.toLowerCase(); 
        const products = document.querySelectorAll('.product-container'); 
        let found = false; 

        if (query.trim() === '') {
            
            products.forEach(product => {
                product.style.display = ''; 
            });
            document.getElementById('no-results-message').style.display = 'none'; 
            return; 
        }

        // Iteracja po wszystkich produktach
        products.forEach(product => {
            const productName = product.querySelector('h2').textContent.toLowerCase(); 

            
            if (productName.includes(query)) {
                product.style.display = ''; 
                found = true; 
            } else {
                product.style.display = 'none'; 
            }
        });

        
        const noResultsMessage = document.getElementById('no-results-message');
        if (!found && query.trim() !== '') {
            noResultsMessage.style.display = 'block'; 
        } else {
            noResultsMessage.style.display = 'none'; 
        }
    }




    document.getElementById('search-button').addEventListener('click', filterProducts);
    document.getElementById('search-input').addEventListener('input', filterProducts);

    document.addEventListener('DOMContentLoaded', function () {
        
        document.querySelectorAll('.decrease-quantity').forEach(button => {
            button.addEventListener('click', function() {
                changeQuantity(this, -1);
            });
        });

        document.querySelectorAll('.increase-quantity').forEach(button => {
            button.addEventListener('click', function() {
                changeQuantity(this, 1);
            });
        });

        
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', addToCart);
        });
    });


        
    document.addEventListener('DOMContentLoaded', function() {
    const thumbnails = document.querySelectorAll('.thumbnail');
    const mainImage = document.getElementById('mainImage');
    const modal = document.getElementById('imageModal');
    const enlargedImage = document.getElementById('enlargedImage');
    const closeBtn = document.querySelector('.close');
    const prevBtn = document.querySelector('.prev');
    const nextBtn = document.querySelector('.next');

    // Tablica wszystkich zdjęć do nawigacji
    const images = Array.from(thumbnails).map(thumbnail => thumbnail.dataset.large);
    let currentIndex = 0;

    // Kliknięcie miniaturki - zmiana głównego zdjęcia
    thumbnails.forEach((thumbnail, index) => {
        thumbnail.addEventListener('click', () => {
            mainImage.src = thumbnail.dataset.large;
            currentIndex = index;
        });
    });

    // Kliknięcie głównego zdjęcia - otwarcie modala
    mainImage.addEventListener('click', () => {
        openModal(currentIndex);
    });

    // Funkcja otwierająca modal
    function openModal(index) {
        enlargedImage.src = images[index];
        modal.style.display = 'block';
        currentIndex = index;
    }

    // Funkcja zamykająca modal
    closeBtn.addEventListener('click', () => {
        modal.style.display = 'none';
    });

   
    prevBtn.addEventListener('click', () => {
        if (currentIndex > 0) {
            currentIndex--;
            openModal(currentIndex);
        }
    });

    
    nextBtn.addEventListener('click', () => {
        if (currentIndex < images.length - 1) {
            currentIndex++;
            openModal(currentIndex);
        }
    });

    // Zamknięcie modala po kliknięciu poza zdjęcie
    window.addEventListener('click', (event) => {
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });

    // Obsługa klawiszy strzałek
    window.addEventListener('keydown', (event) => {
        if (modal.style.display === 'block') {
            if (event.key === 'ArrowLeft') {
                prevBtn.click();
            } else if (event.key === 'ArrowRight') {
                nextBtn.click();
            } else if (event.key === 'Escape') {
                modal.style.display = 'none';
            }
        }
    });
});



    </script>
 </body>
</html>
